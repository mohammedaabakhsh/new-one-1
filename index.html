<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ù…Ø­Ù„Ù„ Ø¬Ø§Ù‡Ø²ÙŠØ© ØªØªØ¬ÙŠØ± Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</title>
  <style>
    :root {
      --bg: #020617;
      --surface: #0f172a;
      --surface-soft: #111827;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.1);
      --danger: #ef4444;
      --success: #22c55e;
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --border: rgba(148, 163, 184, 0.3);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Segoe UI Arabic", sans-serif;
      background: radial-gradient(circle at top, #1f2937 0, #020617 55%);
      color: var(--text-main);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 950px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      margin-bottom: 24px;
    }

    .header h1 {
      font-size: 1.9rem;
      color: var(--accent);
      margin-bottom: 6px;
    }

    .header p {
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 18px 18px 20px;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.5);
      margin-bottom: 18px;
    }

    .card-title {
      font-size: 1.05rem;
      font-weight: 600;
      margin-bottom: 12px;
    }

    .api-row {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 6px;
    }

    @media (min-width: 640px) {
      .api-row {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
      }
    }

    .api-input {
      flex: 1;
      display: flex;
      gap: 8px;
      align-items: center;
    }

    label {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-bottom: 3px;
      display: inline-block;
    }

    .input,
    .textarea,
    .select {
      width: 100%;
      padding: 9px 11px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: var(--surface-soft);
      color: var(--text-main);
      font-size: 0.9rem;
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s, background 0.2s;
      font-family: inherit;
    }

    .input:focus,
    .textarea:focus,
    .select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.25);
      background: #020617;
    }

    .textarea {
      resize: vertical;
      min-height: 80px;
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px 14px;
    }

    @media (min-width: 768px) {
      .form-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .full-width {
        grid-column: 1 / -1;
      }
    }

    .hint {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 3px;
    }

    .btn-primary {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 10px 18px;
      margin-top: 10px;
      border-radius: 999px;
      border: none;
      background: var(--accent);
      color: #020617;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 25px rgba(56, 189, 248, 0.35);
      background: #0ea5e9;
    }

    .btn-primary:disabled {
      opacity: 0.6;
      cursor: default;
      transform: none;
      box-shadow: none;
    }

    .status {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 6px;
    }

    .status.error {
      color: var(--danger);
    }

    .status.success {
      color: var(--success);
    }

    .results-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }

    @media (min-width: 768px) {
      .results-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .result-card {
      background: var(--surface-soft);
      border-radius: 12px;
      border: 1px solid var(--border);
      padding: 12px 13px;
    }

    .result-title {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 6px;
      color: var(--accent);
    }

    .result-body {
      font-size: 0.82rem;
      color: var(--text-main);
      line-height: 1.6;
      white-space: pre-wrap;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.75rem;
      border: 1px solid var(--border);
      background: rgba(15, 23, 42, 0.9);
      margin-left: 6px;
    }

    .badge.good {
      border-color: rgba(34, 197, 94, 0.7);
      color: var(--success);
    }

    .badge.medium {
      border-color: rgba(234, 179, 8, 0.7);
      color: #eab308;
    }

    .badge.bad {
      border-color: rgba(248, 113, 113, 0.7);
      color: #f87171;
    }

    .model-select {
      margin-top: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸš€ Ù…Ø­Ù„Ù„ Ø¬Ø§Ù‡Ø²ÙŠØ© ØªØªØ¬ÙŠØ± Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h1>
      <p>Ø£Ø¯Ø®Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ©ØŒ ÙˆØ¯Ø¹ ChatGPT ÙŠÙ‚ÙŠÙ… Ø¬Ø§Ù‡Ø²ÙŠØªÙ‡Ø§ Ù„Ù„ØªØªØ¬ÙŠØ±ØŒ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØªØ¬ÙŠØ± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ØŒ ÙˆØ§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„ØªÙˆØµÙŠØ§Øª.</p>
    </div>

    <!-- Ø¨Ø·Ø§Ù‚Ø© API Key -->
    <div class="card">
      <div class="card-title">ğŸ”‘ Ù…ÙØªØ§Ø­ OpenAI (ChatGPT API Key)</div>
      <div class="api-row">
        <div class="api-input">
          <input
            type="password"
            id="apiKeyInput"
            class="input"
            placeholder="Ù…Ø«Ø§Ù„: sk-xxxxxxxxxxxxxxxxxxxxxxxx"
          />
        </div>
      </div>
      <div class="model-select">
        <label for="modelSelect">Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ (Model)</label>
        <select id="modelSelect" class="select">
          <option value="gpt-4o">GPT-4o (Ø§Ù„Ø£ÙØ¶Ù„ - Ù…ÙˆØµÙ‰ Ø¨Ù‡)</option>
          <option value="gpt-4o-mini">GPT-4o Mini (Ø£Ø³Ø±Ø¹ ÙˆØ£Ø±Ø®Øµ)</option>
          <option value="gpt-4-turbo">GPT-4 Turbo</option>
          <option value="gpt-3.5-turbo">GPT-3.5 Turbo (Ø§Ù‚ØªØµØ§Ø¯ÙŠ)</option>
        </select>
      </div>
      <div class="hint">
        ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙØªØ§Ø­ ÙÙ‚Ø· Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©ØŒ ÙˆÙ„Ø§ ÙŠØªÙ… Ø­ÙØ¸Ù‡ ÙÙŠ Ø£ÙŠ Ù…ÙƒØ§Ù† Ø®Ø§Ø±Ø¬ÙŠ.
      </div>
    </div>

    <!-- Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ù„Ù„ØªØªØ¬ÙŠØ± -->
    <div class="card">
      <div class="card-title">ğŸ“‹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø±Ø§Ø¯ ØªØªØ¬ÙŠØ±Ù‡Ø§</div>
      <div class="form-grid">
        <div>
          <label for="techName">Ø§Ø³Ù… Ø§Ù„ØªÙ‚Ù†ÙŠØ© / Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø±</label>
          <input
            type="text"
            id="techName"
            class="input"
            placeholder="Ù…Ø«Ø§Ù„: Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø·Ø§Ù‚Ø© ÙÙŠ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ"
          />
        </div>

        <div>
          <label for="techSector">Ø§Ù„Ù…Ø¬Ø§Ù„ / Ø§Ù„Ù‚Ø·Ø§Ø¹ Ø§Ù„ØªÙ‚Ù†ÙŠ</label>
          <input
            type="text"
            id="techSector"
            class="input"
            placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø·Ø§Ù‚Ø©ØŒ Ø§Ù„ØµØ­Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©ØŒ Ø§Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„Ø°ÙƒÙŠØ©..."
          />
        </div>

        <div>
          <label for="trlLevel">Ù…Ø³ØªÙˆÙ‰ Ù†Ø¶Ø¬ Ø§Ù„ØªÙ‚Ù†ÙŠØ© (TRL)</label>
          <select id="trlLevel" class="select">
            <option value="">ØºÙŠØ± Ù…Ø­Ø¯Ø¯</option>
            <option>TRL 1 - Ù…Ø¨Ø§Ø¯Ø¦ Ø£Ø³Ø§Ø³ÙŠØ©</option>
            <option>TRL 2 - Ù…ÙÙ‡ÙˆÙ… Ø§Ù„ØªÙ‚Ù†ÙŠØ©</option>
            <option>TRL 3 - Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ù…ÙÙ‡ÙˆÙ…</option>
            <option>TRL 4 - Ù†Ù…ÙˆØ°Ø¬ Ø£ÙˆÙ„ÙŠ Ù…Ø®ØªØ¨Ø±ÙŠ</option>
            <option>TRL 5 - Ø¨ÙŠØ¦Ø© Ø´Ø¨Ù‡ Ø¹Ù…Ù„ÙŠØ©</option>
            <option>TRL 6 - Ø¨ÙŠØ¦Ø© Ø¹Ù…Ù„ÙŠØ©</option>
            <option>TRL 7 - Ù†Ù…ÙˆØ°Ø¬ Ù…ØªÙƒØ§Ù…Ù„</option>
            <option>TRL 8 - Ù†Ø¸Ø§Ù… Ù…ÙƒØªÙ…Ù„</option>
            <option>TRL 9 - ØªØ´ØºÙŠÙ„ ÙØ¹Ù„ÙŠ / Ù…Ù†ØªØ¬ ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚</option>
          </select>
        </div>

        <div>
          <label for="ipStatus">Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ø§Ù„ÙÙƒØ±ÙŠØ©</label>
          <select id="ipStatus" class="select">
            <option value="">ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©</option>
            <option>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ù…Ø§ÙŠØ© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</option>
            <option>ØªÙ… ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¨Ø±Ø§Ø¡Ø©</option>
            <option>Ø¨Ø±Ø§Ø¡Ø© Ø§Ø®ØªØ±Ø§Ø¹ Ù…Ù…Ù†ÙˆØ­Ø©</option>
            <option>Ø£ÙƒØ«Ø± Ù…Ù† Ø¨Ø±Ø§Ø¡Ø© / Ù…Ø­ÙØ¸Ø© IP Ù‚ÙˆÙŠØ©</option>
            <option>Ø³Ø± ØªØ¬Ø§Ø±ÙŠ / ÙƒÙˆØ¯ Ù…ØºÙ„Ù‚</option>
          </select>
        </div>

        <div>
          <label for="targetCustomer">Ø§Ù„Ø¹Ù…ÙŠÙ„ / Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©</label>
          <input
            type="text"
            id="targetCustomer"
            class="input"
            placeholder="Ù…Ø«Ø§Ù„: Ø´Ø±ÙƒØ§Øª ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠØŒ Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§ØªØŒ Ø§Ù„Ù…Ø²Ø§Ø±Ø¹..."
          />
        </div>

        <div>
          <label for="marketRegion">Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù</label>
          <input
            type="text"
            id="marketRegion"
            class="input"
            placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŒ Ø§Ù„Ø®Ù„ÙŠØ¬ØŒ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŒ Ø¹Ø§Ù„Ù…ÙŠ..."
          />
        </div>

        <div>
          <label for="currentStatus">ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ</label>
          <input
            type="text"
            id="currentStatus"
            class="input"
            placeholder="Ù…Ø«Ø§Ù„: Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±ØŒ ØªÙ… ØªØ¬Ø±Ø¨Ø© ØªØ¬Ø±ÙŠØ¨ÙŠØ© (Pilot)ØŒ Ù„Ø§ Ø²Ø§Ù„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©..."
          />
        </div>

        <div>
          <label for="commercialStrategy">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ØªØªØ¬ÙŠØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ø¥Ù† ÙˆÙØ¬Ø¯Øª)</label>
          <input
            type="text"
            id="commercialStrategy"
            class="input"
            placeholder="Ù…Ø«Ø§Ù„: ØªØ±Ø®ÙŠØµ Ù„Ø´Ø±ÙƒØ©ØŒ ØªØ£Ø³ÙŠØ³ Ø´Ø±ÙƒØ© Ù†Ø§Ø´Ø¦Ø©ØŒ Ø¨ÙŠØ¹ IP..."
          />
        </div>

        <div class="full-width">
          <label for="techDescription">ÙˆØµÙ ØªÙØµÙŠÙ„ÙŠ Ù„Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØ­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</label>
          <textarea
            id="techDescription"
            class="textarea"
            placeholder="Ø§Ø´Ø±Ø­ Ø§Ù„ØªÙ‚Ù†ÙŠØ©ØŒ ÙƒÙŠÙ ØªØ¹Ù…Ù„ØŒ Ù…Ø§ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ØªÙŠ ØªØ­Ù„Ù‡Ø§ØŒ ÙˆÙ…Ø§ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ© Ø§Ù„ØªÙŠ ØªÙ‚Ø¯Ù…Ù‡Ø§ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡..."
          ></textarea>
          <div class="hint">
            ÙƒÙ„Ù…Ø§ ÙƒØ§Ù† Ø§Ù„ÙˆØµÙ Ø£ÙˆØ¶Ø­ØŒ ÙƒØ§Ù† ØªØ­Ù„ÙŠÙ„ Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„ØªØªØ¬ÙŠØ± Ø£Ø¯Ù‚.
          </div>
        </div>
      </div>

      <button id="analyzeBtn" class="btn-primary">
        âš™ï¸ ØªØ­Ù„ÙŠÙ„ Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„ØªØªØ¬ÙŠØ± Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
      </button>
      <div id="statusText" class="status"></div>
    </div>

    <!-- Ù†ØªØ§Ø¦Ø¬ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªØªØ¬ÙŠØ± -->
    <div id="resultsCard" class="card" style="display: none;">
      <div class="card-title">ğŸ“Š Ù†ØªØ§Ø¦Ø¬ ØªØ­Ù„ÙŠÙ„ Ø¬Ø§Ù‡Ø²ÙŠØ© ØªØªØ¬ÙŠØ± Ø§Ù„ØªÙ‚Ù†ÙŠØ©</div>
      <div class="results-grid">
        <div class="result-card">
          <div class="result-title">
            Ù…Ù„Ø®Øµ Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙˆÙØ±Øµ Ø§Ù„ØªØªØ¬ÙŠØ±
          </div>
          <div id="summaryResult" class="result-body"></div>
        </div>

        <div class="result-card">
          <div class="result-title">
            Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ© (ØªÙ‚Ù†ÙŠØ§Ù‹ ÙˆØªØ·Ø¨ÙŠÙ‚ÙŠØ§Ù‹)
            <span id="techBadge" class="badge"></span>
          </div>
          <div id="technicalFeasibilityResult" class="result-body"></div>
        </div>

        <div class="result-card">
          <div class="result-title">
            Ù‚Ø§Ø¨Ù„ÙŠØ© Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø¨Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ø§Ù„ÙÙƒØ±ÙŠØ©
            <span id="ipBadge" class="badge"></span>
          </div>
          <div id="ipFeasibilityResult" class="result-body"></div>
        </div>

        <div class="result-card">
          <div class="result-title">
            ÙØ±ØµØ© Ø§Ù„Ø³ÙˆÙ‚ ÙˆØ¥Ù…ÙƒØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ø¦Ø¯
            <span id="marketBadge" class="badge"></span>
          </div>
          <div id="marketFeasibilityResult" class="result-body"></div>
        </div>

        <div class="result-card">
          <div class="result-title">Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØªØ¬ÙŠØ± Ø§Ù„Ù…Ù‚ØªØ±Ø­</div>
          <div id="modelResult" class="result-body"></div>
        </div>

        <div class="result-card">
          <div class="result-title">Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙÙŠ Ø§Ù„ØªØªØ¬ÙŠØ±</div>
          <div id="strengthsResult" class="result-body"></div>
        </div>

        <div class="result-card">
          <div class="result-title">Ø§Ù„Ù…Ø®Ø§Ø·Ø± ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ§Øª</div>
          <div id="risksResult" class="result-body"></div>
        </div>

        <div class="result-card">
          <div class="result-title">ØªÙˆØµÙŠØ§Øª Ø¹Ù…Ù„ÙŠØ© ÙˆØ®Ø·ÙˆØ§Øª ØªØ§Ù„ÙŠØ©</div>
          <div id="recommendationsResult" class="result-body"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const analyzeBtn = document.getElementById("analyzeBtn");
    const statusText = document.getElementById("statusText");
    const resultsCard = document.getElementById("resultsCard");
    const modelSelect = document.getElementById("modelSelect");

    const summaryResult = document.getElementById("summaryResult");
    const technicalFeasibilityResult = document.getElementById("technicalFeasibilityResult");
    const ipFeasibilityResult = document.getElementById("ipFeasibilityResult");
    const marketFeasibilityResult = document.getElementById("marketFeasibilityResult");
    const modelResult = document.getElementById("modelResult");
    const strengthsResult = document.getElementById("strengthsResult");
    const risksResult = document.getElementById("risksResult");
    const recommendationsResult = document.getElementById("recommendationsResult");

    const techBadge = document.getElementById("techBadge");
    const ipBadge = document.getElementById("ipBadge");
    const marketBadge = document.getElementById("marketBadge");

    function setBadge(el, level) {
      el.textContent = level || "";
      el.className = "badge";
      if (!level) return;
      const txt = (level || "").toLowerCase();
      if (txt.includes("Ø¹Ø§Ù„ÙŠØ©") || txt.includes("Ù…Ø±ØªÙØ¹Ø©") || txt.includes("ÙƒØ¨ÙŠØ±Ø©") || txt.includes("Ù‚ÙˆÙŠØ©")) {
        el.classList.add("good");
      } else if (txt.includes("Ù…ØªÙˆØ³Ø·Ø©")) {
        el.classList.add("medium");
      } else if (txt.includes("Ù…Ù†Ø®ÙØ¶Ø©") || txt.includes("Ø¶Ø¹ÙŠÙØ©") || txt.includes("Ù…Ø­Ø¯ÙˆØ¯Ø©") || txt.includes("ØµØ¹Ø¨Ø©")) {
        el.classList.add("bad");
      } else {
        el.classList.add("medium");
      }
    }

    analyzeBtn.addEventListener("click", async () => {
      const apiKey = document.getElementById("apiKeyInput").value.trim();
      const selectedModel = modelSelect.value;

      const techName = document.getElementById("techName").value.trim();
      const techSector = document.getElementById("techSector").value.trim();
      const trlLevel = document.getElementById("trlLevel").value;
      const ipStatus = document.getElementById("ipStatus").value;
      const targetCustomer = document.getElementById("targetCustomer").value.trim();
      const marketRegion = document.getElementById("marketRegion").value.trim();
      const currentStatus = document.getElementById("currentStatus").value.trim();
      const commercialStrategy = document.getElementById("commercialStrategy").value.trim();
      const techDescription = document.getElementById("techDescription").value.trim();

      if (!apiKey) {
        statusText.textContent = "ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ OpenAI Ø£ÙˆÙ„Ø§Ù‹.";
        statusText.className = "status error";
        return;
      }

      if (!techName && !techDescription) {
        statusText.textContent = "ÙŠØ±Ø¬Ù‰ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø£Ùˆ ÙˆØµÙÙ‡Ø§.";
        statusText.className = "status error";
        return;
      }

      const userPrompt = `
Ø£Ù†Øª Ø®Ø¨ÙŠØ± ÙÙŠ ØªØªØ¬ÙŠØ± Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø¨ØªÙƒØ§Ø±.
Ø£Ø±ÙŠØ¯ Ù…Ù†Ùƒ ØªØ­Ù„ÙŠÙ„ Ø¬Ø§Ù‡Ø²ÙŠØ© ØªØªØ¬ÙŠØ± ØªÙ‚Ù†ÙŠØ© Ù…Ø¹ÙŠÙ†Ø© ÙˆÙÙ‚ Ø§Ù„Ù…Ø­Ø§ÙˆØ± Ø§Ù„ØªØ§Ù„ÙŠØ©ØŒ ÙˆØ£Ø¬Ø¨ Ø¨ØµÙŠØºØ© JSON Ù…Ù†Ø³Ù‚Ø© ÙÙ‚Ø· Ø¨Ø¯ÙˆÙ† Ø£ÙŠ Ù†Øµ Ø¥Ø¶Ø§ÙÙŠ Ø®Ø§Ø±Ø¬ JSON.

Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©:
- Ø§Ø³Ù… Ø§Ù„ØªÙ‚Ù†ÙŠØ©: ${techName || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}
- Ø§Ù„Ù‚Ø·Ø§Ø¹ / Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„ØªÙ‚Ù†ÙŠ: ${techSector || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}
- Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù†Ø¶Ø¬ Ø§Ù„ØªÙ‚Ù†ÙŠ (TRL): ${trlLevel || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}
- Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ø§Ù„ÙÙƒØ±ÙŠØ©: ${ipStatus || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©"}
- Ø§Ù„Ø¹Ù…ÙŠÙ„ / Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©: ${targetCustomer || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}
- Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯Ù: ${marketRegion || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}
- ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ: ${currentStatus || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}
- Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ØªØªØ¬ÙŠØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${commercialStrategy || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©"}
- Ø§Ù„ÙˆØµÙ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ Ù„Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØ­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: ${techDescription || "ØºÙŠØ± Ù…ØªÙˆÙØ±"}

Ø£Ø±ÙŠØ¯ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨ØµÙŠØºØ© JSON Ø¨Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„ØªØ§Ù„ÙŠ (Ø§Ù„ØªØ²Ù… Ø¨Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙƒÙ…Ø§ Ù‡ÙŠ):

{
  "Ù…Ù„Ø®Øµ_Ø§Ù„ØªÙ‚Ù†ÙŠØ©_ÙˆÙØ±Øµ_Ø§Ù„ØªØªØ¬ÙŠØ±": "...",
  "Ø¬Ø§Ù‡Ø²ÙŠØ©_Ø§Ù„ØªÙ‚Ù†ÙŠØ©": {
    "Ø§Ù„ØªÙ‚ÙŠÙŠÙ…": "Ø¹Ø§Ù„ÙŠØ© / Ù…ØªÙˆØ³Ø·Ø© / Ù…Ù†Ø®ÙØ¶Ø©",
    "Ø§Ù„ØªØ­Ù„ÙŠÙ„": "..."
  },
  "Ù‚Ø§Ø¨Ù„ÙŠØ©_Ø§Ù„Ø­Ù…Ø§ÙŠØ©_Ø¨Ø§Ù„Ù…Ù„ÙƒÙŠØ©_Ø§Ù„ÙÙƒØ±ÙŠØ©": {
    "Ø§Ù„ØªÙ‚ÙŠÙŠÙ…": "Ù‚ÙˆÙŠØ© / Ù…ØªÙˆØ³Ø·Ø© / Ø¶Ø¹ÙŠÙØ©",
    "Ø§Ù„ØªØ­Ù„ÙŠÙ„": "..."
  },
  "ÙØ±ØµØ©_Ø§Ù„Ø³ÙˆÙ‚_ÙˆØ¥Ù…ÙƒØ§Ù†Ø§Øª_Ø§Ù„Ø¹Ø§Ø¦Ø¯": {
    "Ø§Ù„ØªÙ‚ÙŠÙŠÙ…": "ÙƒØ¨ÙŠØ±Ø© / Ù…ØªÙˆØ³Ø·Ø© / Ù…Ø­Ø¯ÙˆØ¯Ø©",
    "Ø§Ù„ØªØ­Ù„ÙŠÙ„": "..."
  },
  "Ù†Ù…ÙˆØ°Ø¬_Ø§Ù„ØªØªØ¬ÙŠØ±_Ø§Ù„Ù…Ù‚ØªØ±Ø­": [
    "Ù†Ù…ÙˆØ°Ø¬ 1 (Ù…Ø«Ø§Ù„: ØªØ±Ø®ÙŠØµ Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ù„Ø´Ø±ÙƒØ§Øª Ù‚Ø§Ø¦Ù…Ø©)",
    "Ù†Ù…ÙˆØ°Ø¬ 2 (Ù…Ø«Ø§Ù„: ØªØ£Ø³ÙŠØ³ Ø´Ø±ÙƒØ© Ù†Ø§Ø´Ø¦Ø© Spin-off)"
  ],
  "Ù†Ù‚Ø§Ø·_Ø§Ù„Ù‚ÙˆØ©_ÙÙŠ_Ø§Ù„ØªØªØ¬ÙŠØ±": [
    "Ù†Ù‚Ø·Ø© Ù‚ÙˆØ© 1",
    "Ù†Ù‚Ø·Ø© Ù‚ÙˆØ© 2"
  ],
  "Ø§Ù„Ù…Ø®Ø§Ø·Ø±_ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ§Øª": [
    "Ù…Ø®Ø§Ø·Ø±Ø© 1",
    "Ù…Ø®Ø§Ø·Ø±Ø© 2"
  ],
  "Ø§Ù„ØªÙˆØµÙŠØ§Øª_ÙˆØ§Ù„Ø®Ø·ÙˆØ§Øª_Ø§Ù„ØªØ§Ù„ÙŠØ©": [
    "ØªÙˆØµÙŠØ© 1",
    "ØªÙˆØµÙŠØ© 2"
  ]
}
`;

      analyzeBtn.disabled = true;
      statusText.textContent = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ ChatGPT ÙˆØªØ­Ù„ÙŠÙ„ Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„ØªØªØ¬ÙŠØ±...";
      statusText.className = "status";

      try {
        const response = await fetch("https://api.openai.com/v1/chat/completions", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            Authorization: "Bearer " + apiKey
          },
          body: JSON.stringify({
            model: selectedModel,
            messages: [
              {
                role: "system",
                content:
                  "Ø£Ù†Øª Ø®Ø¨ÙŠØ± Ø¹Ø±Ø¨ÙŠ ÙÙŠ ØªØªØ¬ÙŠØ± Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØªÙ‚ÙŠÙŠÙ… Ø¬Ø§Ù‡Ø²ÙŠØªÙ‡Ø§ Ù„Ù„Ø³ÙˆÙ‚ØŒ ØªØ¬ÙŠØ¨ Ø¨Ø¯Ù‚Ø© ÙˆÙˆØ¶ÙˆØ­ ÙˆØ¨Ø§Ø®ØªØµØ§Ø± Ù…ÙÙŠØ¯ØŒ ÙˆØªÙ„ØªØ²Ù… ØªÙ…Ø§Ù…Ø§Ù‹ Ø¨Ø¨Ù†ÙŠØ© JSON Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©."
              },
              {
                role: "user",
                content: userPrompt
              }
            ],
            temperature: 0.4
          })
        });

        if (!response.ok) {
          const errData = await response.json().catch(() => ({}));
          const errMsg = errData.error?.message || response.statusText;
          statusText.textContent = "Ø­Ø¯Ø« Ø®Ø·Ø£ Ù…Ù† ÙˆØ§Ø¬Ù‡Ø© OpenAI: " + errMsg;
          statusText.className = "status error";
          analyzeBtn.disabled = false;
          return;
        }

        const data = await response.json();
        const content = data.choices?.[0]?.message?.content || "";

        let jsonText = content.trim();
        if (jsonText.startsWith("```")) {
          jsonText = jsonText.replace(/```json/i, "").replace(/```/, "").trim();
        }

        let parsed;
        try {
          parsed = JSON.parse(jsonText);
        } catch (e) {
          parsed = {
            "Ù…Ù„Ø®Øµ_Ø§Ù„ØªÙ‚Ù†ÙŠØ©_ÙˆÙØ±Øµ_Ø§Ù„ØªØªØ¬ÙŠØ±": content
          };
        }

        summaryResult.textContent =
          parsed["Ù…Ù„Ø®Øµ_Ø§Ù„ØªÙ‚Ù†ÙŠØ©_ÙˆÙØ±Øµ_Ø§Ù„ØªØªØ¬ÙŠØ±"] || "Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ù…Ù„Ø®Øµ.";

        const tech = parsed["Ø¬Ø§Ù‡Ø²ÙŠØ©_Ø§Ù„ØªÙ‚Ù†ÙŠØ©"] || {};
        technicalFeasibilityResult.textContent =
          tech["Ø§Ù„ØªØ­Ù„ÙŠÙ„"] || "Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ ØªØ­Ù„ÙŠÙ„ ØªÙØµÙŠÙ„ÙŠ.";
        setBadge(techBadge, tech["Ø§Ù„ØªÙ‚ÙŠÙŠÙ…"]);

        const ip = parsed["Ù‚Ø§Ø¨Ù„ÙŠØ©_Ø§Ù„Ø­Ù…Ø§ÙŠØ©_Ø¨Ø§Ù„Ù…Ù„ÙƒÙŠØ©_Ø§Ù„ÙÙƒØ±ÙŠØ©"] || {};
        ipFeasibilityResult.textContent =
          ip["Ø§Ù„ØªØ­Ù„ÙŠÙ„"] || "Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ ØªØ­Ù„ÙŠÙ„ ØªÙØµÙŠÙ„ÙŠ.";
        setBadge(ipBadge, ip["Ø§Ù„ØªÙ‚ÙŠÙŠÙ…"]);

        const market = parsed["ÙØ±ØµØ©_Ø§Ù„Ø³ÙˆÙ‚_ÙˆØ¥Ù…ÙƒØ§Ù†Ø§Øª_Ø§Ù„Ø¹Ø§Ø¦Ø¯"] || {};
        marketFeasibilityResult.textContent =
          market["Ø§Ù„ØªØ­Ù„ÙŠÙ„"] || "Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ ØªØ­Ù„ÙŠÙ„ ØªÙØµÙŠÙ„ÙŠ.";
        setBadge(marketBadge, market["Ø§Ù„ØªÙ‚ÙŠÙŠÙ…"]);

        const model = parsed["Ù†Ù…ÙˆØ°Ø¬_Ø§Ù„ØªØªØ¬ÙŠØ±_Ø§Ù„Ù…Ù‚ØªØ±Ø­"] || [];
        modelResult.textContent = model.length
          ? "â€¢ " + model.join("\nâ€¢ ")
          : "Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ù†Ù…ÙˆØ°Ø¬ ØªØªØ¬ÙŠØ±.";

        const strengths = parsed["Ù†Ù‚Ø§Ø·_Ø§Ù„Ù‚ÙˆØ©_ÙÙŠ_Ø§Ù„ØªØªØ¬ÙŠØ±"] || [];
        strengthsResult.textContent = strengths.length
          ? "â€¢ " + strengths.join("\nâ€¢ ")
          : "Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ù†Ù‚Ø§Ø· Ù‚ÙˆØ©.";

        const risks = parsed["Ø§Ù„Ù…Ø®Ø§Ø·Ø±_ÙˆØ§Ù„ØªØ­Ø¯ÙŠØ§Øª"] || [];
        risksResult.textContent = risks.length
          ? "â€¢ " + risks.join("\nâ€¢ ")
          : "Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ù…Ø®Ø§Ø·Ø± Ø£Ùˆ ØªØ­Ø¯ÙŠØ§Øª.";

        const recs = parsed["Ø§Ù„ØªÙˆØµÙŠØ§Øª_ÙˆØ§Ù„Ø®Ø·ÙˆØ§Øª_Ø§Ù„ØªØ§Ù„ÙŠØ©"] || [];
        recommendationsResult.textContent = recs.length
          ? "â€¢ " + recs.join("\nâ€¢ ")
          : "Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ ØªÙˆØµÙŠØ§Øª.";

        resultsCard.style.display = "block";
        statusText.textContent = "âœ… ØªÙ… ØªØ­Ù„ÙŠÙ„ Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„ØªØªØ¬ÙŠØ± Ø¨Ù†Ø¬Ø§Ø­. Ø±Ø§Ø¬Ø¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø£Ø¯Ù†Ø§Ù‡.";
        statusText.className = "status success";

        resultsCard.scrollIntoView({ behavior: "smooth", block: "nearest" });
      } catch (err) {
        console.error(err);
        statusText.textContent = "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø£Ùˆ Ø§Ù„Ù…ÙØªØ§Ø­.";
        statusText.className = "status error";
      } finally {
        analyzeBtn.disabled = false;
      }
    });
  </script>
</body>
</html>
